/*	
 * jQuery mmenu v4.1.1
 * @requires jQuery 1.7.0 or later
 *
 * mmenu.frebsite.nl
 *	
 * Copyright (c) Fred Heusschen
 * www.frebsite.nl
 *
 * Dual licensed under the MIT and GPL licenses.
 * http://en.wikipedia.org/wiki/MIT_License
 * http://en.wikipedia.org/wiki/GNU_General_Public_License
 */
!function(e){function t(t,n,o){if("object"!=typeof t&&(t={}),o){if("boolean"!=typeof t.isMenu){var s=o.children();t.isMenu=1==s.length&&s.is(n.panelNodetype)}return t}if("object"!=typeof t.onClick&&(t.onClick={}),"undefined"!=typeof t.onClick.setLocationHref&&(e[r].deprecated("onClick.setLocationHref option","!onClick.preventDefault"),"boolean"==typeof t.onClick.setLocationHref&&(t.onClick.preventDefault=!t.onClick.setLocationHref)),t=e.extend(!0,{},e[r].defaults,t),e[r].useOverflowScrollingFallback()){switch(t.position){case"top":case"right":case"bottom":e[r].debug('position: "'+t.position+'" not supported when using the overflowScrolling-fallback.'),t.position="left"}switch(t.zposition){case"front":case"next":e[r].debug('z-position: "'+t.zposition+'" not supported when using the overflowScrolling-fallback.'),t.zposition="back"}}return t}function n(t){return"object"!=typeof t&&(t={}),"undefined"!=typeof t.panelNodeType&&(e[r].deprecated("panelNodeType configuration option","panelNodetype"),t.panelNodetype=t.panelNodeType),t=e.extend(!0,{},e[r].configuration,t),"string"!=typeof t.pageSelector&&(t.pageSelector="> "+t.pageNodetype),t}function o(){c.$wndw=e(window),c.$html=e("html"),c.$body=e("body"),c.$allMenus=e(),e.each([p,f,u],function(e,t){t.add=function(e){e=e.split(" ");for(var n in e)t[e[n]]=t.mm(e[n])}}),p.mm=function(e){return"mm-"+e},p.add("menu ismenu panel list subtitle selected label spacer current highest hidden page blocker modal background opened opening subopened subopen fullsubopen subclose nooverflowscrolling"),p.umm=function(e){return"mm-"==e.slice(0,3)&&(e=e.slice(3)),e},f.mm=function(e){return"mm-"+e},f.add("parent style scrollTop offetLeft"),u.mm=function(e){return e+".mm"},u.add("toggle open opening opened close closing closed update setPage setSelected transitionend touchstart touchend click keydown keyup resize"),e[r].support.touch||(u.touchstart=u.mm("mousedown"),u.touchend=u.mm("mouseup")),e[r]._c=p,e[r]._d=f,e[r]._e=u,e[r].glbl=c,e[r].useOverflowScrollingFallback(m)}function s(t,n){if(t.hasClass(p.current))return!1;var o=e("."+p.panel,n),s=o.filter("."+p.current);return o.removeClass(p.highest).removeClass(p.current).not(t).not(s).addClass(p.hidden),t.hasClass(p.opened)?s.addClass(p.highest).removeClass(p.opened).removeClass(p.subopened):(t.addClass(p.highest),s.addClass(p.subopened)),t.removeClass(p.hidden).removeClass(p.subopened).addClass(p.current).addClass(p.opened),"open"}function i(){return c.$scrollTopNode||(0!=c.$html.scrollTop()?c.$scrollTopNode=c.$html:0!=c.$body.scrollTop()&&(c.$scrollTopNode=c.$body)),c.$scrollTopNode?c.$scrollTopNode.scrollTop():0}function l(t,n,o){var s=e[r].support.transition;"webkitTransition"==s?t.one("webkitTransitionEnd",n):s?t.one(u.transitionend,n):setTimeout(n,o)}function a(t,n,o,s){"string"==typeof t&&(t=e(t));var i=o?u.touchstart:u.click;s||t.off(i),t.on(i,function(e){e.preventDefault(),e.stopPropagation(),n.call(this,e)})}var r="mmenu",d="4.1.1";if(!e[r]){var c={$wndw:null,$html:null,$body:null,$page:null,$blck:null,$allMenus:null,$scrollTopNode:null},p={},u={},f={},h=0;e[r]=function(e,t,n){return c.$allMenus=c.$allMenus.add(e),this.$menu=e,this.opts=t,this.conf=n,this.serialnr=h++,this._init(),this},e[r].prototype={open:function(){return this._openSetup(),this._openFinish(),"open"},_openSetup:function(){var e=i();this.$menu.addClass(p.current),c.$allMenus.not(this.$menu).trigger(u.close),c.$page.data(f.style,c.$page.attr("style")||"").data(f.scrollTop,e).data(f.offetLeft,c.$page.offset().left);var t=0;c.$wndw.off(u.resize).on(u.resize,function(e,n){if(c.$html.hasClass(p.opened)||n){var o=c.$wndw.width();o!=t&&(t=o,c.$page.width(o-c.$page.data(f.offetLeft)))}}).trigger(u.resize,[!0]),this.conf.preventTabbing&&c.$wndw.off(u.keydown).on(u.keydown,function(e){return 9==e.keyCode?(e.preventDefault(),!1):void 0}),this.opts.modal&&c.$html.addClass(p.modal),this.opts.moveBackground&&c.$html.addClass(p.background),"left"!=this.opts.position&&c.$html.addClass(p.mm(this.opts.position)),"back"!=this.opts.zposition&&c.$html.addClass(p.mm(this.opts.zposition)),this.opts.classes&&c.$html.addClass(this.opts.classes),c.$html.addClass(p.opened),this.$menu.addClass(p.opened),c.$page.scrollTop(e),this.$menu.scrollTop(0)},_openFinish:function(){var e=this;l(c.$page,function(){e.$menu.trigger(u.opened)},this.conf.transitionDuration),c.$html.addClass(p.opening),this.$menu.trigger(u.opening),window.scrollTo(0,1)},close:function(){var e=this;return l(c.$page,function(){e.$menu.removeClass(p.current).removeClass(p.opened),c.$html.removeClass(p.opened).removeClass(p.modal).removeClass(p.background).removeClass(p.mm(e.opts.position)).removeClass(p.mm(e.opts.zposition)),e.opts.classes&&c.$html.removeClass(e.opts.classes),c.$wndw.off(u.resize).off(u.keydown),c.$page.attr("style",c.$page.data(f.style)),c.$scrollTopNode&&c.$scrollTopNode.scrollTop(c.$page.data(f.scrollTop)),e.$menu.trigger(u.closed)},this.conf.transitionDuration),c.$html.removeClass(p.opening),this.$menu.trigger(u.closing),"close"},_init:function(){if(this.opts=t(this.opts,this.conf,this.$menu),this.direction=this.opts.slidingSubmenus?"horizontal":"vertical",this._initPage(c.$page),this._initMenu(),this._initBlocker(),this._initPanles(),this._initLinks(),this._initOpenClose(),this._bindCustomEvents(),e[r].addons)for(var n=0;n<e[r].addons.length;n++)"function"==typeof this["_addon_"+e[r].addons[n]]&&this["_addon_"+e[r].addons[n]]()},_bindCustomEvents:function(){var t=this;this.$menu.off(u.open+" "+u.close+" "+u.setPage+" "+u.update).on(u.open+" "+u.close+" "+u.setPage+" "+u.update,function(e){e.stopPropagation()}),this.$menu.on(u.open,function(n){return e(this).hasClass(p.current)?(n.stopImmediatePropagation(),!1):t.open()}).on(u.close,function(n){return e(this).hasClass(p.current)?t.close():(n.stopImmediatePropagation(),!1)}).on(u.setPage,function(e,n){t._initPage(n),t._initOpenClose()});var n=this.$menu.find(this.opts.isMenu&&"horizontal"!=this.direction?"ul, ol":"."+p.panel);n.off(u.toggle+" "+u.open+" "+u.close).on(u.toggle+" "+u.open+" "+u.close,function(e){e.stopPropagation()}),"horizontal"==this.direction?n.on(u.open,function(){return s(e(this),t.$menu)}):n.on(u.toggle,function(){var t=e(this);return t.triggerHandler(t.parent().hasClass(p.opened)?u.close:u.open)}).on(u.open,function(){return e(this).parent().addClass(p.opened),"open"}).on(u.close,function(){return e(this).parent().removeClass(p.opened),"close"})},_initBlocker:function(){var t=this;c.$blck||(c.$blck=e('<div id="'+p.blocker+'" />').appendTo(c.$body)),a(c.$blck,function(){c.$html.hasClass(p.modal)||t.$menu.trigger(u.close)},!0,!0)},_initPage:function(t){t||(t=e(this.conf.pageSelector,c.$body),t.length>1&&(e[r].debug("Multiple nodes found for the page-node, all nodes are wrapped in one <"+this.conf.pageNodetype+">."),t=t.wrapAll("<"+this.conf.pageNodetype+" />").parent())),t.addClass(p.page),c.$page=t},_initMenu:function(){this.conf.clone&&(this.$menu=this.$menu.clone(!0),this.$menu.add(this.$menu.find("*")).filter("[id]").each(function(){e(this).attr("id",p.mm(e(this).attr("id")))})),this.$menu.contents().each(function(){3==e(this)[0].nodeType&&e(this).remove()}),this.$menu.prependTo("body").addClass(p.menu),this.$menu.addClass(p.mm(this.direction)),this.opts.classes&&this.$menu.addClass(this.opts.classes),this.opts.isMenu&&this.$menu.addClass(p.ismenu),"left"!=this.opts.position&&this.$menu.addClass(p.mm(this.opts.position)),"back"!=this.opts.zposition&&this.$menu.addClass(p.mm(this.opts.zposition))},_initPanles:function(){var t=this;this.__refactorClass(e("."+this.conf.listClass,this.$menu),"list"),this.opts.isMenu&&e("ul, ol",this.$menu).not(".mm-nolist").addClass(p.list);var n=e("."+p.list+" > li",this.$menu);this.__refactorClass(n.filter("."+this.conf.selectedClass),"selected"),this.__refactorClass(n.filter("."+this.conf.labelClass),"label"),this.__refactorClass(n.filter("."+this.conf.spacerClass),"spacer"),n.off(u.setSelected).on(u.setSelected,function(t,o){t.stopPropagation(),n.removeClass(p.selected),"boolean"!=typeof o&&(o=!0),o&&e(this).addClass(p.selected)}),this.__refactorClass(e("."+this.conf.panelClass,this.$menu),"panel"),this.$menu.children().filter(this.conf.panelNodetype).add(this.$menu.find("."+p.list).children().children().filter(this.conf.panelNodetype)).addClass(p.panel);var o=e("."+p.panel,this.$menu);o.each(function(n){var o=e(this),s=o.attr("id")||p.mm("m"+t.serialnr+"-p"+n);o.attr("id",s)}),o.find("."+p.panel).each(function(){var n=e(this),o=n.is("ul, ol")?n:n.find("ul ,ol").first(),s=n.parent(),i=s.find("> a, > span"),l=s.closest("."+p.panel);if(n.data(f.parent,s),s.parent().is("."+p.list)){var a=e('<a class="'+p.subopen+'" href="#'+n.attr("id")+'" />').insertBefore(i);i.is("a")||a.addClass(p.fullsubopen),"horizontal"==t.direction&&o.prepend('<li class="'+p.subtitle+'"><a class="'+p.subclose+'" href="#'+l.attr("id")+'">'+i.text()+"</a></li>")}});var s="horizontal"==this.direction?u.open:u.toggle;if(o.each(function(){var n=e(this),o=n.attr("id");a(e('a[href="#'+o+'"]',t.$menu),function(){n.trigger(s)})}),"horizontal"==this.direction){var i=e("."+p.list+" > li."+p.selected,this.$menu);i.add(i.parents("li")).parents("li").removeClass(p.selected).end().each(function(){var t=e(this),n=t.find("> ."+p.panel);n.length&&(t.parents("."+p.panel).addClass(p.subopened),n.addClass(p.opened))}).closest("."+p.panel).addClass(p.opened).parents("."+p.panel).addClass(p.subopened)}else e("li."+p.selected,this.$menu).addClass(p.opened).parents("."+p.selected).removeClass(p.selected);var l=o.filter("."+p.opened);l.length||(l=o.first()),l.addClass(p.opened).last().addClass(p.current),"horizontal"==this.direction&&o.find("."+p.panel).appendTo(this.$menu)},_initLinks:function(){var t=this,n=e("."+p.list+" > li > a",this.$menu).not("."+p.subopen).not("."+p.subclose).not('[rel="external"]').not('[target="_blank"]');n.off(u.click).on(u.click,function(n){var o=e(this),s=o.attr("href");t.__valueOrFn(t.opts.onClick.setSelected,o)&&o.parent().trigger(u.setSelected);var i=t.__valueOrFn(t.opts.onClick.preventDefault,o,"#"==s.slice(0,1));i&&(n.preventDefault(),n.stopPropagation()),t.__valueOrFn(t.opts.onClick.blockUI,o,!i)&&c.$html.addClass(p.blocking),t.__valueOrFn(t.opts.onClick.close,o,i)&&t.$menu.triggerHandler(u.close)})},_initOpenClose:function(){var t=this,n=this.$menu.attr("id");n&&n.length&&(this.conf.clone&&(n=p.umm(n)),a(e('a[href="#'+n+'"]'),function(){t.$menu.trigger(u.open)}));var n=c.$page.attr("id");n&&n.length&&a(e('a[href="#'+n+'"]'),function(){t.$menu.trigger(u.close)},!1,!0)},__valueOrFn:function(e,t,n){return"function"==typeof e?e.call(t[0]):"undefined"==typeof e&&"undefined"!=typeof n?n:e},__refactorClass:function(e,t){e.removeClass(this.conf[t+"Class"]).addClass(p[t])}},e.fn[r]=function(s,i){return c.$wndw||o(),s=t(s,i),i=n(i),this.each(function(){var t=e(this);t.data(r)||t.data(r,new e[r](t,s,i))})},e[r].version=d,e[r].defaults={position:"left",zposition:"back",moveBackground:!0,slidingSubmenus:!0,modal:!1,classes:"",onClick:{setSelected:!0}},e[r].configuration={preventTabbing:!0,panelClass:"Panel",listClass:"List",selectedClass:"Selected",labelClass:"Label",spacerClass:"Spacer",pageNodetype:"div",panelNodetype:"ul, ol, div",transitionDuration:400},function(){var t=window.document,n=window.navigator.userAgent,o="ontouchstart"in t,s="WebkitOverflowScrolling"in t.documentElement.style,i=function(){var e=document.createElement("div").style;return"webkitTransition"in e?"webkitTransition":"transition"in e}(),l=function(){return n.indexOf("Android")>=0?2.4>parseFloat(n.slice(n.indexOf("Android")+8)):!1}();e[r].support={touch:o,transition:i,oldAndroidBrowser:l,overflowscrolling:function(){return o?s?!0:l?!1:!0:!0}()}}(),e[r].useOverflowScrollingFallback=function(e){return c.$html?("boolean"==typeof e&&c.$html[e?"addClass":"removeClass"](p.nooverflowscrolling),c.$html.hasClass(p.nooverflowscrolling)):(m=e,e)},e[r].debug=function(){},e[r].deprecated=function(e,t){"undefined"!=typeof console&&"undefined"!=typeof console.warn&&console.warn("MMENU: "+e+" is deprecated, use "+t+" instead.")};var m=!e[r].support.overflowscrolling}}(jQuery);